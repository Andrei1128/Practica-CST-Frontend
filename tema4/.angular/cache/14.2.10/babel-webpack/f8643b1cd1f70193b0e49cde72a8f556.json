{"ast":null,"code":"import { TemplateRef } from '@angular/core';\nimport { coerceBooleanProperty, _isNumberValue, coerceCssPixelValue } from '@angular/cdk/coercion';\nimport { warn } from 'ng-zorro-antd/core/logger';\nimport { Subject, isObservable, from, of } from 'rxjs';\nimport { take } from 'rxjs/operators';\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nfunction toArray(value) {\n  let ret;\n\n  if (value == null) {\n    ret = [];\n  } else if (!Array.isArray(value)) {\n    ret = [value];\n  } else {\n    ret = value;\n  }\n\n  return ret;\n}\n\nfunction arraysEqual(array1, array2) {\n  if (!array1 || !array2 || array1.length !== array2.length) {\n    return false;\n  }\n\n  const len = array1.length;\n\n  for (let i = 0; i < len; i++) {\n    if (array1[i] !== array2[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction shallowCopyArray(source) {\n  return source.slice();\n}\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n\nfunction isNotNil(value) {\n  return typeof value !== 'undefined' && value !== null;\n}\n\nfunction isNil(value) {\n  return typeof value === 'undefined' || value === null;\n}\n/**\n * Examine if two objects are shallowly equaled.\n */\n\n\nfunction shallowEqual(objA, objB) {\n  if (objA === objB) {\n    return true;\n  }\n\n  if (typeof objA !== 'object' || !objA || typeof objB !== 'object' || !objB) {\n    return false;\n  }\n\n  const keysA = Object.keys(objA);\n  const keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  const bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB); // eslint-disable-next-line @typescript-eslint/prefer-for-of\n\n  for (let idx = 0; idx < keysA.length; idx++) {\n    const key = keysA[idx];\n\n    if (!bHasOwnProperty(key)) {\n      return false;\n    }\n\n    if (objA[key] !== objB[key]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction isNonEmptyString(value) {\n  return typeof value === 'string' && value !== '';\n}\n\nfunction isTemplateRef(value) {\n  return value instanceof TemplateRef;\n}\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n\nfunction toBoolean(value) {\n  return coerceBooleanProperty(value);\n}\n\nfunction toNumber(value, fallbackValue = 0) {\n  return _isNumberValue(value) ? Number(value) : fallbackValue;\n}\n\nfunction toCssPixel(value) {\n  return coerceCssPixelValue(value);\n} // eslint-disable  no-invalid-this\n\n/**\n * Get the function-property type's value\n */\n\n\nfunction valueFunctionProp(prop, ...args) {\n  return typeof prop === 'function' ? prop(...args) : prop;\n}\n\nfunction propDecoratorFactory(name, fallback) {\n  function propDecorator(target, propName, originalDescriptor) {\n    const privatePropName = `$$__zorroPropDecorator__${propName}`;\n\n    if (Object.prototype.hasOwnProperty.call(target, privatePropName)) {\n      warn(`The prop \"${privatePropName}\" is already exist, it will be overrided by ${name} decorator.`);\n    }\n\n    Object.defineProperty(target, privatePropName, {\n      configurable: true,\n      writable: true\n    });\n    return {\n      get() {\n        return originalDescriptor && originalDescriptor.get ? originalDescriptor.get.bind(this)() : this[privatePropName];\n      },\n\n      set(value) {\n        if (originalDescriptor && originalDescriptor.set) {\n          originalDescriptor.set.bind(this)(fallback(value));\n        }\n\n        this[privatePropName] = fallback(value);\n      }\n\n    };\n  }\n\n  return propDecorator;\n}\n/**\n * Input decorator that handle a prop to do get/set automatically with toBoolean\n *\n * Why not using @InputBoolean alone without @Input? AOT needs @Input to be visible\n *\n * @howToUse\n * ```\n * @Input() @InputBoolean() visible: boolean = false;\n *\n * // Act as below:\n * // @Input()\n * // get visible() { return this.__visible; }\n * // set visible(value) { this.__visible = value; }\n * // __visible = false;\n * ```\n */\n\n\nfunction InputBoolean() {\n  return propDecoratorFactory('InputBoolean', toBoolean);\n}\n\nfunction InputCssPixel() {\n  return propDecoratorFactory('InputCssPixel', toCssPixel);\n}\n\nfunction InputNumber(fallbackValue) {\n  return propDecoratorFactory('InputNumber', value => toNumber(value, fallbackValue));\n}\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n/**\n * Silent an event by stopping and preventing it.\n */\n\n\nfunction silentEvent(e) {\n  e.stopPropagation();\n  e.preventDefault();\n}\n\nfunction getElementOffset(elem) {\n  if (!elem.getClientRects().length) {\n    return {\n      top: 0,\n      left: 0\n    };\n  }\n\n  const rect = elem.getBoundingClientRect();\n  const win = elem.ownerDocument.defaultView;\n  return {\n    top: rect.top + win.pageYOffset,\n    left: rect.left + win.pageXOffset\n  };\n}\n/**\n * Investigate if an event is a `TouchEvent`.\n */\n\n\nfunction isTouchEvent(event) {\n  return event.type.startsWith('touch');\n}\n\nfunction getEventPosition(event) {\n  return isTouchEvent(event) ? event.touches[0] || event.changedTouches[0] : event;\n}\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n\nfunction getRegExp(prefix) {\n  const prefixArray = Array.isArray(prefix) ? prefix : [prefix];\n  let prefixToken = prefixArray.join('').replace(/(\\$|\\^)/g, '\\\\$1');\n\n  if (prefixArray.length > 1) {\n    prefixToken = `[${prefixToken}]`;\n  }\n\n  return new RegExp(`(\\\\s|^)(${prefixToken})[^\\\\s]*`, 'g');\n}\n\nfunction getMentions(value, prefix = '@') {\n  if (typeof value !== 'string') {\n    return [];\n  }\n\n  const regex = getRegExp(prefix);\n  const mentions = value.match(regex);\n  return mentions !== null ? mentions.map(e => e.trim()) : [];\n}\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n/**\n * Much like lodash.\n */\n\n\nfunction padStart(toPad, length, element) {\n  if (toPad.length > length) {\n    return toPad;\n  }\n\n  const joined = `${getRepeatedElement(length, element)}${toPad}`;\n  return joined.slice(joined.length - length, joined.length);\n}\n\nfunction padEnd(toPad, length, element) {\n  const joined = `${toPad}${getRepeatedElement(length, element)}`;\n  return joined.slice(0, length);\n}\n\nfunction getRepeatedElement(length, element) {\n  return Array(length).fill(element).join('');\n}\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n\nfunction isPromise(obj) {\n  return !!obj && typeof obj.then === 'function' && typeof obj.catch === 'function';\n}\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n\nfunction getPercent(min, max, value) {\n  return (value - min) / (max - min) * 100;\n}\n\nfunction getPrecision(num) {\n  const numStr = num.toString();\n  const dotIndex = numStr.indexOf('.');\n  return dotIndex >= 0 ? numStr.length - dotIndex - 1 : 0;\n}\n\nfunction ensureNumberInRange(num, min, max) {\n  if (isNaN(num) || num < min) {\n    return min;\n  } else if (num > max) {\n    return max;\n  } else {\n    return num;\n  }\n}\n\nfunction isNumberFinite(value) {\n  return typeof value === 'number' && isFinite(value);\n}\n\nfunction toDecimal(value, decimal) {\n  return Math.round(value * Math.pow(10, decimal)) / Math.pow(10, decimal);\n}\n\nfunction sum(input, initial = 0) {\n  return input.reduce((previous, current) => previous + current, initial);\n}\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n\nfunction scrollIntoView(node) {\n  const nodeAsAny = node;\n\n  if (nodeAsAny.scrollIntoViewIfNeeded) {\n    /* eslint-disable-next-line @typescript-eslint/dot-notation */\n    nodeAsAny.scrollIntoViewIfNeeded(false);\n    return;\n  }\n\n  if (node.scrollIntoView) {\n    node.scrollIntoView(false);\n    return;\n  }\n}\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n// from https://github.com/component/textarea-caret-position\n// We'll copy the properties below into the mirror div.\n// Note that some browsers, such as Firefox, do not concatenate properties\n// into their shorthand (e.g. padding-top, padding-bottom etc. -> padding),\n// so we have to list every single property explicitly.\n\n\nconst properties = ['direction', 'boxSizing', 'width', 'height', 'overflowX', 'overflowY', 'borderTopWidth', 'borderRightWidth', 'borderBottomWidth', 'borderLeftWidth', 'borderStyle', 'paddingTop', 'paddingRight', 'paddingBottom', 'paddingLeft', // https://developer.mozilla.org/en-US/docs/Web/CSS/font\n'fontStyle', 'fontVariant', 'fontWeight', 'fontStretch', 'fontSize', 'fontSizeAdjust', 'lineHeight', 'fontFamily', 'textAlign', 'textTransform', 'textIndent', 'textDecoration', 'letterSpacing', 'wordSpacing', 'tabSize', 'MozTabSize'];\nconst isBrowser = typeof window !== 'undefined';\nconst isFirefox = isBrowser && window.mozInnerScreenX != null;\n\nconst _parseInt = str => parseInt(str, 10);\n\nfunction getCaretCoordinates(element, position, options) {\n  if (!isBrowser) {\n    throw new Error('textarea-caret-position#getCaretCoordinates should only be called in a browser');\n  }\n\n  const debug = options && options.debug || false;\n\n  if (debug) {\n    const el = document.querySelector('#input-textarea-caret-position-mirror-div');\n\n    if (el) {\n      el.parentNode.removeChild(el);\n    }\n  } // The mirror div will replicate the textarea's style\n\n\n  const div = document.createElement('div');\n  div.id = 'input-textarea-caret-position-mirror-div';\n  document.body.appendChild(div);\n  const style = div.style;\n  const computed = window.getComputedStyle ? window.getComputedStyle(element) : element.currentStyle; // currentStyle for IE < 9\n\n  const isInput = element.nodeName === 'INPUT'; // Default textarea styles\n\n  style.whiteSpace = 'pre-wrap';\n\n  if (!isInput) {\n    style.wordWrap = 'break-word'; // only for textarea-s\n  } // Position off-screen\n\n\n  style.position = 'absolute'; // required to return coordinates properly\n\n  if (!debug) {\n    style.visibility = 'hidden';\n  } // not 'display: none' because we want rendering\n  // Transfer the element's properties to the div\n\n\n  properties.forEach(prop => {\n    if (isInput && prop === 'lineHeight') {\n      // Special case for <input>s because text is rendered centered and line height may be != height\n      style.lineHeight = computed.height;\n    } else {\n      // @ts-ignore\n      style[prop] = computed[prop];\n    }\n  });\n\n  if (isFirefox) {\n    // Firefox lies about the overflow property for textareas: https://bugzilla.mozilla.org/show_bug.cgi?id=984275\n    if (element.scrollHeight > _parseInt(computed.height)) {\n      style.overflowY = 'scroll';\n    }\n  } else {\n    style.overflow = 'hidden'; // for Chrome to not render a scrollbar; IE keeps overflowY = 'scroll'\n  }\n\n  div.textContent = element.value.substring(0, position); // The second special handling for input type=\"text\" vs textarea:\n  // spaces need to be replaced with non-breaking spaces - http://stackoverflow.com/a/13402035/1269037\n\n  if (isInput) {\n    div.textContent = div.textContent.replace(/\\s/g, '\\u00a0');\n  }\n\n  const span = document.createElement('span'); // Wrapping must be replicated *exactly*, including when a long word gets\n  // onto the next line, with whitespace at the end of the line before (#7).\n  // The  *only* reliable way to do that is to copy the *entire* rest of the\n  // textarea's content into the <span> created at the caret position.\n  // For inputs, just '.' would be enough, but no need to bother.\n\n  span.textContent = element.value.substring(position) || '.'; // || because a completely empty faux span doesn't render at all\n\n  div.appendChild(span);\n  const coordinates = {\n    top: span.offsetTop + _parseInt(computed.borderTopWidth),\n    left: span.offsetLeft + _parseInt(computed.borderLeftWidth),\n    height: _parseInt(computed.lineHeight)\n  };\n\n  if (debug) {\n    span.style.backgroundColor = '#eee';\n    createDebugEle(element, coordinates);\n  } else {\n    document.body.removeChild(div);\n  }\n\n  return coordinates;\n}\n\nfunction createDebugEle(element, coordinates) {\n  const fontSize = getComputedStyle(element).getPropertyValue('font-size');\n  const rect = document.querySelector('#DEBUG') || document.createElement('div');\n  document.body.appendChild(rect);\n  rect.id = 'DEBUG';\n  rect.style.position = 'absolute';\n  rect.style.backgroundColor = 'red';\n  rect.style.height = fontSize;\n  rect.style.width = '1px';\n  rect.style.top = `${element.getBoundingClientRect().top - element.scrollTop + window.pageYOffset + coordinates.top}px`;\n  rect.style.left = `${element.getBoundingClientRect().left - element.scrollLeft + window.pageXOffset + coordinates.left}px`;\n}\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n\nfunction isStyleSupport(styleName) {\n  if (typeof window !== 'undefined' && window.document && window.document.documentElement) {\n    const styleNameList = Array.isArray(styleName) ? styleName : [styleName];\n    const {\n      documentElement\n    } = window.document;\n    return styleNameList.some(name => name in documentElement.style);\n  }\n\n  return false;\n}\n\nfunction getStyleAsText(styles) {\n  if (!styles) {\n    return '';\n  }\n\n  return Object.keys(styles).map(key => {\n    const val = styles[key];\n    return `${key}:${typeof val === 'string' ? val : `${val}px`}`;\n  }).join(';');\n}\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n// We only handle element & text node.\n\n\nconst ELEMENT_NODE = 1;\nconst TEXT_NODE = 3;\nconst COMMENT_NODE = 8;\nlet ellipsisContainer;\nconst wrapperStyle = {\n  padding: '0',\n  margin: '0',\n  display: 'inline',\n  lineHeight: 'inherit'\n};\n\nfunction pxToNumber(value) {\n  if (!value) {\n    return 0;\n  }\n\n  const match = value.match(/^\\d*(\\.\\d*)?/);\n  return match ? Number(match[0]) : 0;\n}\n\nfunction styleToString(style) {\n  // There are some different behavior between Firefox & Chrome.\n  // We have to handle this ourself.\n  const styleNames = Array.prototype.slice.apply(style);\n  return styleNames.map(name => `${name}: ${style.getPropertyValue(name)};`).join('');\n}\n\nfunction mergeChildren(children) {\n  const childList = [];\n  children.forEach(child => {\n    const prevChild = childList[childList.length - 1];\n\n    if (prevChild && child.nodeType === TEXT_NODE && prevChild.nodeType === TEXT_NODE) {\n      prevChild.data += child.data;\n    } else {\n      childList.push(child);\n    }\n  });\n  return childList;\n}\n\nfunction measure(originEle, rows, contentNodes, fixedContent, ellipsisStr, suffixStr = '') {\n  if (!ellipsisContainer) {\n    ellipsisContainer = document.createElement('div');\n    ellipsisContainer.setAttribute('aria-hidden', 'true');\n    document.body.appendChild(ellipsisContainer);\n  } // Get origin style\n\n\n  const originStyle = window.getComputedStyle(originEle);\n  const originCSS = styleToString(originStyle);\n  const lineHeight = pxToNumber(originStyle.lineHeight);\n  const maxHeight = Math.round(lineHeight * (rows + 1) + pxToNumber(originStyle.paddingTop) + pxToNumber(originStyle.paddingBottom)); // Set shadow\n\n  ellipsisContainer.setAttribute('style', originCSS);\n  ellipsisContainer.style.position = 'fixed';\n  ellipsisContainer.style.left = '0';\n  ellipsisContainer.style.height = 'auto';\n  ellipsisContainer.style.minHeight = 'auto';\n  ellipsisContainer.style.maxHeight = 'auto';\n  ellipsisContainer.style.top = '-999999px';\n  ellipsisContainer.style.zIndex = '-1000'; // clean up css overflow\n\n  ellipsisContainer.style.textOverflow = 'clip';\n  ellipsisContainer.style.whiteSpace = 'normal';\n  ellipsisContainer.style.webkitLineClamp = 'none';\n  const contentList = mergeChildren(contentNodes);\n  const container = document.createElement('div');\n  const contentContainer = document.createElement('span');\n  const suffixContainer = document.createTextNode(suffixStr);\n  const fixedContainer = document.createElement('span'); // Add styles in container\n\n  Object.assign(container.style, wrapperStyle);\n  Object.assign(contentContainer.style, wrapperStyle);\n  Object.assign(fixedContainer.style, wrapperStyle);\n  contentList.forEach(n => {\n    contentContainer.appendChild(n);\n  });\n  contentContainer.appendChild(suffixContainer);\n  fixedContent.forEach(node => {\n    fixedContainer.appendChild(node.cloneNode(true));\n  });\n  container.appendChild(contentContainer);\n  container.appendChild(fixedContainer); // Render in the fake container\n\n  ellipsisContainer.appendChild(container); // Check if ellipsis in measure div is height enough for content\n\n  function inRange() {\n    return ellipsisContainer.offsetHeight < maxHeight;\n  }\n\n  if (inRange()) {\n    const text = ellipsisContainer.innerHTML;\n    ellipsisContainer.removeChild(container);\n    return {\n      contentNodes,\n      text,\n      ellipsis: false\n    };\n  } // We should clone the childNode since they're controlled by React and we can't reuse it without warning\n\n\n  const childNodes = Array.prototype.slice.apply(ellipsisContainer.childNodes[0].childNodes[0].cloneNode(true).childNodes).filter(({\n    nodeType\n  }) => nodeType !== COMMENT_NODE);\n  const fixedNodes = Array.prototype.slice.apply(ellipsisContainer.childNodes[0].childNodes[1].cloneNode(true).childNodes);\n  ellipsisContainer.removeChild(container); // ========================= Find match ellipsis content =========================\n\n  ellipsisContainer.innerHTML = ''; // Create origin content holder\n\n  const ellipsisContentHolder = document.createElement('span');\n  ellipsisContainer.appendChild(ellipsisContentHolder);\n  const ellipsisTextNode = document.createTextNode(ellipsisStr + suffixStr);\n  ellipsisContentHolder.appendChild(ellipsisTextNode);\n  fixedNodes.forEach(childNode => {\n    ellipsisContainer.appendChild(childNode);\n  }); // Append before fixed nodes\n\n  function appendChildNode(node) {\n    ellipsisContentHolder.insertBefore(node, ellipsisTextNode);\n  } // Get maximum text\n\n\n  function measureText(textNode, fullText, startLoc = 0, endLoc = fullText.length, lastSuccessLoc = 0) {\n    const midLoc = Math.floor((startLoc + endLoc) / 2);\n    textNode.textContent = fullText.slice(0, midLoc);\n\n    if (startLoc >= endLoc - 1) {\n      // Loop when step is small\n      for (let step = endLoc; step >= startLoc; step -= 1) {\n        const currentStepText = fullText.slice(0, step);\n        textNode.textContent = currentStepText;\n\n        if (inRange() || !currentStepText) {\n          return step === fullText.length ? {\n            finished: false,\n            node: document.createTextNode(fullText)\n          } : {\n            finished: true,\n            node: document.createTextNode(currentStepText)\n          };\n        }\n      }\n    }\n\n    if (inRange()) {\n      return measureText(textNode, fullText, midLoc, endLoc, midLoc);\n    } else {\n      return measureText(textNode, fullText, startLoc, midLoc, lastSuccessLoc);\n    }\n  }\n\n  function measureNode(childNode, index) {\n    const type = childNode.nodeType;\n\n    if (type === ELEMENT_NODE) {\n      // We don't split element, it will keep if whole element can be displayed.\n      // appendChildNode(childNode);\n      if (inRange()) {\n        return {\n          finished: false,\n          node: contentList[index]\n        };\n      } // Clean up if can not pull in\n\n\n      ellipsisContentHolder.removeChild(childNode);\n      return {\n        finished: true,\n        node: null\n      };\n    } else if (type === TEXT_NODE) {\n      const fullText = childNode.textContent || '';\n      const textNode = document.createTextNode(fullText);\n      appendChildNode(textNode);\n      return measureText(textNode, fullText);\n    } // Not handle other type of content\n    // PS: This code should not be attached after react 16\n\n\n    return {\n      finished: false,\n      node: null\n    };\n  }\n\n  const ellipsisNodes = [];\n  childNodes.some((childNode, index) => {\n    const {\n      finished,\n      node\n    } = measureNode(childNode, index);\n\n    if (node) {\n      ellipsisNodes.push(node);\n    }\n\n    return finished;\n  });\n  const result = {\n    contentNodes: ellipsisNodes,\n    text: ellipsisContainer.innerHTML,\n    ellipsis: true\n  };\n\n  while (ellipsisContainer.firstChild) {\n    ellipsisContainer.removeChild(ellipsisContainer.firstChild);\n  }\n\n  return result;\n}\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n\nlet scrollbarVerticalSize;\nlet scrollbarHorizontalSize; // Measure scrollbar width for padding body during modal show/hide\n\nconst scrollbarMeasure = {\n  position: 'absolute',\n  top: '-9999px',\n  width: '50px',\n  height: '50px'\n};\n\nfunction measureScrollbar(direction = 'vertical', prefix = 'ant') {\n  if (typeof document === 'undefined' || typeof window === 'undefined') {\n    return 0;\n  }\n\n  const isVertical = direction === 'vertical';\n\n  if (isVertical && scrollbarVerticalSize) {\n    return scrollbarVerticalSize;\n  } else if (!isVertical && scrollbarHorizontalSize) {\n    return scrollbarHorizontalSize;\n  }\n\n  const scrollDiv = document.createElement('div');\n  Object.keys(scrollbarMeasure).forEach(scrollProp => {\n    // @ts-ignore\n    scrollDiv.style[scrollProp] = scrollbarMeasure[scrollProp];\n  }); // apply hide scrollbar className ahead\n\n  scrollDiv.className = `${prefix}-hide-scrollbar scroll-div-append-to-body`; // Append related overflow style\n\n  if (isVertical) {\n    scrollDiv.style.overflowY = 'scroll';\n  } else {\n    scrollDiv.style.overflowX = 'scroll';\n  }\n\n  document.body.appendChild(scrollDiv);\n  let size = 0;\n\n  if (isVertical) {\n    size = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n    scrollbarVerticalSize = size;\n  } else {\n    size = scrollDiv.offsetHeight - scrollDiv.clientHeight;\n    scrollbarHorizontalSize = size;\n  }\n\n  document.body.removeChild(scrollDiv);\n  return size;\n}\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n\nfunction ensureInBounds(value, boundValue) {\n  return value ? value < boundValue ? value : boundValue : boundValue;\n}\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n\nfunction inNextTick() {\n  const timer = new Subject();\n  Promise.resolve().then(() => timer.next());\n  return timer.pipe(take(1));\n}\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n\nfunction wrapIntoObservable(value) {\n  if (isObservable(value)) {\n    return value;\n  }\n\n  if (isPromise(value)) {\n    // Use `Promise.resolve()` to wrap promise-like instances.\n    return from(Promise.resolve(value));\n  }\n\n  return of(value);\n}\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n/**\n * Sync from rc-util [https://github.com/react-component/util]\n */\n\n\nfunction canUseDom() {\n  return !!(typeof window !== 'undefined' && window.document && window.document.createElement);\n}\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n\nconst MARK_KEY = `rc-util-key`;\n\nfunction getMark({\n  mark\n} = {}) {\n  if (mark) {\n    return mark.startsWith('data-') ? mark : `data-${mark}`;\n  }\n\n  return MARK_KEY;\n}\n\nfunction getContainer(option) {\n  if (option.attachTo) {\n    return option.attachTo;\n  }\n\n  const head = document.querySelector('head');\n  return head || document.body;\n}\n\nfunction injectCSS(css, option = {}) {\n  if (!canUseDom()) {\n    return null;\n  }\n\n  const styleNode = document.createElement('style');\n\n  if (option.csp?.nonce) {\n    styleNode.nonce = option.csp?.nonce;\n  }\n\n  styleNode.innerHTML = css;\n  const container = getContainer(option);\n  const {\n    firstChild\n  } = container;\n\n  if (option.prepend && container.prepend) {\n    // Use `prepend` first\n    container.prepend(styleNode);\n  } else if (option.prepend && firstChild) {\n    // Fallback to `insertBefore` like IE not support `prepend`\n    container.insertBefore(styleNode, firstChild);\n  } else {\n    container.appendChild(styleNode);\n  }\n\n  return styleNode;\n}\n\nconst containerCache = new Map();\n\nfunction findExistNode(key, option = {}) {\n  const container = getContainer(option);\n  return Array.from(containerCache.get(container)?.children || []).find(node => node.tagName === 'STYLE' && node.getAttribute(getMark(option)) === key);\n}\n\nfunction removeCSS(key, option = {}) {\n  const existNode = findExistNode(key, option);\n  existNode?.parentNode?.removeChild(existNode);\n}\n\nfunction updateCSS(css, key, option = {}) {\n  const container = getContainer(option); // Get real parent\n\n  if (!containerCache.has(container)) {\n    const placeholderStyle = injectCSS('', option); // @ts-ignore\n\n    const {\n      parentNode\n    } = placeholderStyle;\n    containerCache.set(container, parentNode);\n    parentNode.removeChild(placeholderStyle);\n  }\n\n  const existNode = findExistNode(key, option);\n\n  if (existNode) {\n    if (option.csp?.nonce && existNode.nonce !== option.csp?.nonce) {\n      existNode.nonce = option.csp?.nonce;\n    }\n\n    if (existNode.innerHTML !== css) {\n      existNode.innerHTML = css;\n    }\n\n    return existNode;\n  }\n\n  const newNode = injectCSS(css, option);\n  newNode?.setAttribute(getMark(option), key);\n  return newNode;\n}\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n\nfunction getStatusClassNames(prefixCls, status, hasFeedback) {\n  return {\n    [`${prefixCls}-status-success`]: status === 'success',\n    [`${prefixCls}-status-warning`]: status === 'warning',\n    [`${prefixCls}-status-error`]: status === 'error',\n    [`${prefixCls}-status-validating`]: status === 'validating',\n    [`${prefixCls}-has-feedback`]: hasFeedback\n  };\n}\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { InputBoolean, InputCssPixel, InputNumber, arraysEqual, canUseDom, createDebugEle, ensureInBounds, ensureNumberInRange, getCaretCoordinates, getElementOffset, getEventPosition, getMentions, getPercent, getPrecision, getRegExp, getRepeatedElement, getStatusClassNames, getStyleAsText, inNextTick, injectCSS, isNil, isNonEmptyString, isNotNil, isNumberFinite, isPromise, isStyleSupport, isTemplateRef, isTouchEvent, measure, measureScrollbar, padEnd, padStart, properties, pxToNumber, removeCSS, scrollIntoView, shallowCopyArray, shallowEqual, silentEvent, sum, toArray, toBoolean, toCssPixel, toDecimal, toNumber, updateCSS, valueFunctionProp, wrapIntoObservable };","map":{"version":3,"names":["TemplateRef","coerceBooleanProperty","_isNumberValue","coerceCssPixelValue","warn","Subject","isObservable","from","of","take","toArray","value","ret","Array","isArray","arraysEqual","array1","array2","length","len","i","shallowCopyArray","source","slice","isNotNil","isNil","shallowEqual","objA","objB","keysA","Object","keys","keysB","bHasOwnProperty","prototype","hasOwnProperty","bind","idx","key","isNonEmptyString","isTemplateRef","toBoolean","toNumber","fallbackValue","Number","toCssPixel","valueFunctionProp","prop","args","propDecoratorFactory","name","fallback","propDecorator","target","propName","originalDescriptor","privatePropName","call","defineProperty","configurable","writable","get","set","InputBoolean","InputCssPixel","InputNumber","silentEvent","e","stopPropagation","preventDefault","getElementOffset","elem","getClientRects","top","left","rect","getBoundingClientRect","win","ownerDocument","defaultView","pageYOffset","pageXOffset","isTouchEvent","event","type","startsWith","getEventPosition","touches","changedTouches","getRegExp","prefix","prefixArray","prefixToken","join","replace","RegExp","getMentions","regex","mentions","match","map","trim","padStart","toPad","element","joined","getRepeatedElement","padEnd","fill","isPromise","obj","then","catch","getPercent","min","max","getPrecision","num","numStr","toString","dotIndex","indexOf","ensureNumberInRange","isNaN","isNumberFinite","isFinite","toDecimal","decimal","Math","round","pow","sum","input","initial","reduce","previous","current","scrollIntoView","node","nodeAsAny","scrollIntoViewIfNeeded","properties","isBrowser","window","isFirefox","mozInnerScreenX","_parseInt","str","parseInt","getCaretCoordinates","position","options","Error","debug","el","document","querySelector","parentNode","removeChild","div","createElement","id","body","appendChild","style","computed","getComputedStyle","currentStyle","isInput","nodeName","whiteSpace","wordWrap","visibility","forEach","lineHeight","height","scrollHeight","overflowY","overflow","textContent","substring","span","coordinates","offsetTop","borderTopWidth","offsetLeft","borderLeftWidth","backgroundColor","createDebugEle","fontSize","getPropertyValue","width","scrollTop","scrollLeft","isStyleSupport","styleName","documentElement","styleNameList","some","getStyleAsText","styles","val","ELEMENT_NODE","TEXT_NODE","COMMENT_NODE","ellipsisContainer","wrapperStyle","padding","margin","display","pxToNumber","styleToString","styleNames","apply","mergeChildren","children","childList","child","prevChild","nodeType","data","push","measure","originEle","rows","contentNodes","fixedContent","ellipsisStr","suffixStr","setAttribute","originStyle","originCSS","maxHeight","paddingTop","paddingBottom","minHeight","zIndex","textOverflow","webkitLineClamp","contentList","container","contentContainer","suffixContainer","createTextNode","fixedContainer","assign","n","cloneNode","inRange","offsetHeight","text","innerHTML","ellipsis","childNodes","filter","fixedNodes","ellipsisContentHolder","ellipsisTextNode","childNode","appendChildNode","insertBefore","measureText","textNode","fullText","startLoc","endLoc","lastSuccessLoc","midLoc","floor","step","currentStepText","finished","measureNode","index","ellipsisNodes","result","firstChild","scrollbarVerticalSize","scrollbarHorizontalSize","scrollbarMeasure","measureScrollbar","direction","isVertical","scrollDiv","scrollProp","className","overflowX","size","offsetWidth","clientWidth","clientHeight","ensureInBounds","boundValue","inNextTick","timer","Promise","resolve","next","pipe","wrapIntoObservable","canUseDom","MARK_KEY","getMark","mark","getContainer","option","attachTo","head","injectCSS","css","styleNode","csp","nonce","prepend","containerCache","Map","findExistNode","find","tagName","getAttribute","removeCSS","existNode","updateCSS","has","placeholderStyle","newNode","getStatusClassNames","prefixCls","status","hasFeedback"],"sources":["C:/Users/Administrator/Facultate/CST/teme/tema4/node_modules/ng-zorro-antd/fesm2020/ng-zorro-antd-core-util.mjs"],"sourcesContent":["import { TemplateRef } from '@angular/core';\nimport { coerceBooleanProperty, _isNumberValue, coerceCssPixelValue } from '@angular/cdk/coercion';\nimport { warn } from 'ng-zorro-antd/core/logger';\nimport { Subject, isObservable, from, of } from 'rxjs';\nimport { take } from 'rxjs/operators';\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nfunction toArray(value) {\n    let ret;\n    if (value == null) {\n        ret = [];\n    }\n    else if (!Array.isArray(value)) {\n        ret = [value];\n    }\n    else {\n        ret = value;\n    }\n    return ret;\n}\nfunction arraysEqual(array1, array2) {\n    if (!array1 || !array2 || array1.length !== array2.length) {\n        return false;\n    }\n    const len = array1.length;\n    for (let i = 0; i < len; i++) {\n        if (array1[i] !== array2[i]) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction shallowCopyArray(source) {\n    return source.slice();\n}\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nfunction isNotNil(value) {\n    return typeof value !== 'undefined' && value !== null;\n}\nfunction isNil(value) {\n    return typeof value === 'undefined' || value === null;\n}\n/**\n * Examine if two objects are shallowly equaled.\n */\nfunction shallowEqual(objA, objB) {\n    if (objA === objB) {\n        return true;\n    }\n    if (typeof objA !== 'object' || !objA || typeof objB !== 'object' || !objB) {\n        return false;\n    }\n    const keysA = Object.keys(objA);\n    const keysB = Object.keys(objB);\n    if (keysA.length !== keysB.length) {\n        return false;\n    }\n    const bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB);\n    // eslint-disable-next-line @typescript-eslint/prefer-for-of\n    for (let idx = 0; idx < keysA.length; idx++) {\n        const key = keysA[idx];\n        if (!bHasOwnProperty(key)) {\n            return false;\n        }\n        if (objA[key] !== objB[key]) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction isNonEmptyString(value) {\n    return typeof value === 'string' && value !== '';\n}\nfunction isTemplateRef(value) {\n    return value instanceof TemplateRef;\n}\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nfunction toBoolean(value) {\n    return coerceBooleanProperty(value);\n}\nfunction toNumber(value, fallbackValue = 0) {\n    return _isNumberValue(value) ? Number(value) : fallbackValue;\n}\nfunction toCssPixel(value) {\n    return coerceCssPixelValue(value);\n}\n// eslint-disable  no-invalid-this\n/**\n * Get the function-property type's value\n */\nfunction valueFunctionProp(prop, ...args) {\n    return typeof prop === 'function' ? prop(...args) : prop;\n}\nfunction propDecoratorFactory(name, fallback) {\n    function propDecorator(target, propName, originalDescriptor) {\n        const privatePropName = `$$__zorroPropDecorator__${propName}`;\n        if (Object.prototype.hasOwnProperty.call(target, privatePropName)) {\n            warn(`The prop \"${privatePropName}\" is already exist, it will be overrided by ${name} decorator.`);\n        }\n        Object.defineProperty(target, privatePropName, {\n            configurable: true,\n            writable: true\n        });\n        return {\n            get() {\n                return originalDescriptor && originalDescriptor.get\n                    ? originalDescriptor.get.bind(this)()\n                    : this[privatePropName];\n            },\n            set(value) {\n                if (originalDescriptor && originalDescriptor.set) {\n                    originalDescriptor.set.bind(this)(fallback(value));\n                }\n                this[privatePropName] = fallback(value);\n            }\n        };\n    }\n    return propDecorator;\n}\n/**\n * Input decorator that handle a prop to do get/set automatically with toBoolean\n *\n * Why not using @InputBoolean alone without @Input? AOT needs @Input to be visible\n *\n * @howToUse\n * ```\n * @Input() @InputBoolean() visible: boolean = false;\n *\n * // Act as below:\n * // @Input()\n * // get visible() { return this.__visible; }\n * // set visible(value) { this.__visible = value; }\n * // __visible = false;\n * ```\n */\nfunction InputBoolean() {\n    return propDecoratorFactory('InputBoolean', toBoolean);\n}\nfunction InputCssPixel() {\n    return propDecoratorFactory('InputCssPixel', toCssPixel);\n}\nfunction InputNumber(fallbackValue) {\n    return propDecoratorFactory('InputNumber', (value) => toNumber(value, fallbackValue));\n}\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n/**\n * Silent an event by stopping and preventing it.\n */\nfunction silentEvent(e) {\n    e.stopPropagation();\n    e.preventDefault();\n}\nfunction getElementOffset(elem) {\n    if (!elem.getClientRects().length) {\n        return { top: 0, left: 0 };\n    }\n    const rect = elem.getBoundingClientRect();\n    const win = elem.ownerDocument.defaultView;\n    return {\n        top: rect.top + win.pageYOffset,\n        left: rect.left + win.pageXOffset\n    };\n}\n/**\n * Investigate if an event is a `TouchEvent`.\n */\nfunction isTouchEvent(event) {\n    return event.type.startsWith('touch');\n}\nfunction getEventPosition(event) {\n    return isTouchEvent(event) ? event.touches[0] || event.changedTouches[0] : event;\n}\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nfunction getRegExp(prefix) {\n    const prefixArray = Array.isArray(prefix) ? prefix : [prefix];\n    let prefixToken = prefixArray.join('').replace(/(\\$|\\^)/g, '\\\\$1');\n    if (prefixArray.length > 1) {\n        prefixToken = `[${prefixToken}]`;\n    }\n    return new RegExp(`(\\\\s|^)(${prefixToken})[^\\\\s]*`, 'g');\n}\nfunction getMentions(value, prefix = '@') {\n    if (typeof value !== 'string') {\n        return [];\n    }\n    const regex = getRegExp(prefix);\n    const mentions = value.match(regex);\n    return mentions !== null ? mentions.map(e => e.trim()) : [];\n}\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n/**\n * Much like lodash.\n */\nfunction padStart(toPad, length, element) {\n    if (toPad.length > length) {\n        return toPad;\n    }\n    const joined = `${getRepeatedElement(length, element)}${toPad}`;\n    return joined.slice(joined.length - length, joined.length);\n}\nfunction padEnd(toPad, length, element) {\n    const joined = `${toPad}${getRepeatedElement(length, element)}`;\n    return joined.slice(0, length);\n}\nfunction getRepeatedElement(length, element) {\n    return Array(length).fill(element).join('');\n}\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nfunction isPromise(obj) {\n    return !!obj && typeof obj.then === 'function' && typeof obj.catch === 'function';\n}\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nfunction getPercent(min, max, value) {\n    return ((value - min) / (max - min)) * 100;\n}\nfunction getPrecision(num) {\n    const numStr = num.toString();\n    const dotIndex = numStr.indexOf('.');\n    return dotIndex >= 0 ? numStr.length - dotIndex - 1 : 0;\n}\nfunction ensureNumberInRange(num, min, max) {\n    if (isNaN(num) || num < min) {\n        return min;\n    }\n    else if (num > max) {\n        return max;\n    }\n    else {\n        return num;\n    }\n}\nfunction isNumberFinite(value) {\n    return typeof value === 'number' && isFinite(value);\n}\nfunction toDecimal(value, decimal) {\n    return Math.round(value * Math.pow(10, decimal)) / Math.pow(10, decimal);\n}\nfunction sum(input, initial = 0) {\n    return input.reduce((previous, current) => previous + current, initial);\n}\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nfunction scrollIntoView(node) {\n    const nodeAsAny = node;\n    if (nodeAsAny.scrollIntoViewIfNeeded) {\n        /* eslint-disable-next-line @typescript-eslint/dot-notation */\n        nodeAsAny.scrollIntoViewIfNeeded(false);\n        return;\n    }\n    if (node.scrollIntoView) {\n        node.scrollIntoView(false);\n        return;\n    }\n}\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n// from https://github.com/component/textarea-caret-position\n// We'll copy the properties below into the mirror div.\n// Note that some browsers, such as Firefox, do not concatenate properties\n// into their shorthand (e.g. padding-top, padding-bottom etc. -> padding),\n// so we have to list every single property explicitly.\nconst properties = [\n    'direction',\n    'boxSizing',\n    'width',\n    'height',\n    'overflowX',\n    'overflowY',\n    'borderTopWidth',\n    'borderRightWidth',\n    'borderBottomWidth',\n    'borderLeftWidth',\n    'borderStyle',\n    'paddingTop',\n    'paddingRight',\n    'paddingBottom',\n    'paddingLeft',\n    // https://developer.mozilla.org/en-US/docs/Web/CSS/font\n    'fontStyle',\n    'fontVariant',\n    'fontWeight',\n    'fontStretch',\n    'fontSize',\n    'fontSizeAdjust',\n    'lineHeight',\n    'fontFamily',\n    'textAlign',\n    'textTransform',\n    'textIndent',\n    'textDecoration',\n    'letterSpacing',\n    'wordSpacing',\n    'tabSize',\n    'MozTabSize'\n];\nconst isBrowser = typeof window !== 'undefined';\nconst isFirefox = isBrowser && window.mozInnerScreenX != null;\nconst _parseInt = (str) => parseInt(str, 10);\nfunction getCaretCoordinates(element, position, options) {\n    if (!isBrowser) {\n        throw new Error('textarea-caret-position#getCaretCoordinates should only be called in a browser');\n    }\n    const debug = (options && options.debug) || false;\n    if (debug) {\n        const el = document.querySelector('#input-textarea-caret-position-mirror-div');\n        if (el) {\n            el.parentNode.removeChild(el);\n        }\n    }\n    // The mirror div will replicate the textarea's style\n    const div = document.createElement('div');\n    div.id = 'input-textarea-caret-position-mirror-div';\n    document.body.appendChild(div);\n    const style = div.style;\n    const computed = window.getComputedStyle ? window.getComputedStyle(element) : element.currentStyle; // currentStyle for IE < 9\n    const isInput = element.nodeName === 'INPUT';\n    // Default textarea styles\n    style.whiteSpace = 'pre-wrap';\n    if (!isInput) {\n        style.wordWrap = 'break-word'; // only for textarea-s\n    }\n    // Position off-screen\n    style.position = 'absolute'; // required to return coordinates properly\n    if (!debug) {\n        style.visibility = 'hidden';\n    } // not 'display: none' because we want rendering\n    // Transfer the element's properties to the div\n    properties.forEach((prop) => {\n        if (isInput && prop === 'lineHeight') {\n            // Special case for <input>s because text is rendered centered and line height may be != height\n            style.lineHeight = computed.height;\n        }\n        else {\n            // @ts-ignore\n            style[prop] = computed[prop];\n        }\n    });\n    if (isFirefox) {\n        // Firefox lies about the overflow property for textareas: https://bugzilla.mozilla.org/show_bug.cgi?id=984275\n        if (element.scrollHeight > _parseInt(computed.height)) {\n            style.overflowY = 'scroll';\n        }\n    }\n    else {\n        style.overflow = 'hidden'; // for Chrome to not render a scrollbar; IE keeps overflowY = 'scroll'\n    }\n    div.textContent = element.value.substring(0, position);\n    // The second special handling for input type=\"text\" vs textarea:\n    // spaces need to be replaced with non-breaking spaces - http://stackoverflow.com/a/13402035/1269037\n    if (isInput) {\n        div.textContent = div.textContent.replace(/\\s/g, '\\u00a0');\n    }\n    const span = document.createElement('span');\n    // Wrapping must be replicated *exactly*, including when a long word gets\n    // onto the next line, with whitespace at the end of the line before (#7).\n    // The  *only* reliable way to do that is to copy the *entire* rest of the\n    // textarea's content into the <span> created at the caret position.\n    // For inputs, just '.' would be enough, but no need to bother.\n    span.textContent = element.value.substring(position) || '.'; // || because a completely empty faux span doesn't render at all\n    div.appendChild(span);\n    const coordinates = {\n        top: span.offsetTop + _parseInt(computed.borderTopWidth),\n        left: span.offsetLeft + _parseInt(computed.borderLeftWidth),\n        height: _parseInt(computed.lineHeight)\n    };\n    if (debug) {\n        span.style.backgroundColor = '#eee';\n        createDebugEle(element, coordinates);\n    }\n    else {\n        document.body.removeChild(div);\n    }\n    return coordinates;\n}\nfunction createDebugEle(element, coordinates) {\n    const fontSize = getComputedStyle(element).getPropertyValue('font-size');\n    const rect = document.querySelector('#DEBUG') || document.createElement('div');\n    document.body.appendChild(rect);\n    rect.id = 'DEBUG';\n    rect.style.position = 'absolute';\n    rect.style.backgroundColor = 'red';\n    rect.style.height = fontSize;\n    rect.style.width = '1px';\n    rect.style.top = `${element.getBoundingClientRect().top - element.scrollTop + window.pageYOffset + coordinates.top}px`;\n    rect.style.left = `${element.getBoundingClientRect().left - element.scrollLeft + window.pageXOffset + coordinates.left}px`;\n}\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nfunction isStyleSupport(styleName) {\n    if (typeof window !== 'undefined' && window.document && window.document.documentElement) {\n        const styleNameList = Array.isArray(styleName) ? styleName : [styleName];\n        const { documentElement } = window.document;\n        return styleNameList.some(name => name in documentElement.style);\n    }\n    return false;\n}\nfunction getStyleAsText(styles) {\n    if (!styles) {\n        return '';\n    }\n    return Object.keys(styles)\n        .map(key => {\n        const val = styles[key];\n        return `${key}:${typeof val === 'string' ? val : `${val}px`}`;\n    })\n        .join(';');\n}\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n// We only handle element & text node.\nconst ELEMENT_NODE = 1;\nconst TEXT_NODE = 3;\nconst COMMENT_NODE = 8;\nlet ellipsisContainer;\nconst wrapperStyle = {\n    padding: '0',\n    margin: '0',\n    display: 'inline',\n    lineHeight: 'inherit'\n};\nfunction pxToNumber(value) {\n    if (!value) {\n        return 0;\n    }\n    const match = value.match(/^\\d*(\\.\\d*)?/);\n    return match ? Number(match[0]) : 0;\n}\nfunction styleToString(style) {\n    // There are some different behavior between Firefox & Chrome.\n    // We have to handle this ourself.\n    const styleNames = Array.prototype.slice.apply(style);\n    return styleNames.map(name => `${name}: ${style.getPropertyValue(name)};`).join('');\n}\nfunction mergeChildren(children) {\n    const childList = [];\n    children.forEach((child) => {\n        const prevChild = childList[childList.length - 1];\n        if (prevChild && child.nodeType === TEXT_NODE && prevChild.nodeType === TEXT_NODE) {\n            prevChild.data += child.data;\n        }\n        else {\n            childList.push(child);\n        }\n    });\n    return childList;\n}\nfunction measure(originEle, rows, contentNodes, fixedContent, ellipsisStr, suffixStr = '') {\n    if (!ellipsisContainer) {\n        ellipsisContainer = document.createElement('div');\n        ellipsisContainer.setAttribute('aria-hidden', 'true');\n        document.body.appendChild(ellipsisContainer);\n    }\n    // Get origin style\n    const originStyle = window.getComputedStyle(originEle);\n    const originCSS = styleToString(originStyle);\n    const lineHeight = pxToNumber(originStyle.lineHeight);\n    const maxHeight = Math.round(lineHeight * (rows + 1) + pxToNumber(originStyle.paddingTop) + pxToNumber(originStyle.paddingBottom));\n    // Set shadow\n    ellipsisContainer.setAttribute('style', originCSS);\n    ellipsisContainer.style.position = 'fixed';\n    ellipsisContainer.style.left = '0';\n    ellipsisContainer.style.height = 'auto';\n    ellipsisContainer.style.minHeight = 'auto';\n    ellipsisContainer.style.maxHeight = 'auto';\n    ellipsisContainer.style.top = '-999999px';\n    ellipsisContainer.style.zIndex = '-1000';\n    // clean up css overflow\n    ellipsisContainer.style.textOverflow = 'clip';\n    ellipsisContainer.style.whiteSpace = 'normal';\n    ellipsisContainer.style.webkitLineClamp = 'none';\n    const contentList = mergeChildren(contentNodes);\n    const container = document.createElement('div');\n    const contentContainer = document.createElement('span');\n    const suffixContainer = document.createTextNode(suffixStr);\n    const fixedContainer = document.createElement('span');\n    // Add styles in container\n    Object.assign(container.style, wrapperStyle);\n    Object.assign(contentContainer.style, wrapperStyle);\n    Object.assign(fixedContainer.style, wrapperStyle);\n    contentList.forEach(n => {\n        contentContainer.appendChild(n);\n    });\n    contentContainer.appendChild(suffixContainer);\n    fixedContent.forEach(node => {\n        fixedContainer.appendChild(node.cloneNode(true));\n    });\n    container.appendChild(contentContainer);\n    container.appendChild(fixedContainer);\n    // Render in the fake container\n    ellipsisContainer.appendChild(container);\n    // Check if ellipsis in measure div is height enough for content\n    function inRange() {\n        return ellipsisContainer.offsetHeight < maxHeight;\n    }\n    if (inRange()) {\n        const text = ellipsisContainer.innerHTML;\n        ellipsisContainer.removeChild(container);\n        return { contentNodes, text, ellipsis: false };\n    }\n    // We should clone the childNode since they're controlled by React and we can't reuse it without warning\n    const childNodes = Array.prototype.slice\n        .apply(ellipsisContainer.childNodes[0].childNodes[0].cloneNode(true).childNodes)\n        .filter(({ nodeType }) => nodeType !== COMMENT_NODE);\n    const fixedNodes = Array.prototype.slice.apply(ellipsisContainer.childNodes[0].childNodes[1].cloneNode(true).childNodes);\n    ellipsisContainer.removeChild(container);\n    // ========================= Find match ellipsis content =========================\n    ellipsisContainer.innerHTML = '';\n    // Create origin content holder\n    const ellipsisContentHolder = document.createElement('span');\n    ellipsisContainer.appendChild(ellipsisContentHolder);\n    const ellipsisTextNode = document.createTextNode(ellipsisStr + suffixStr);\n    ellipsisContentHolder.appendChild(ellipsisTextNode);\n    fixedNodes.forEach(childNode => {\n        ellipsisContainer.appendChild(childNode);\n    });\n    // Append before fixed nodes\n    function appendChildNode(node) {\n        ellipsisContentHolder.insertBefore(node, ellipsisTextNode);\n    }\n    // Get maximum text\n    function measureText(textNode, fullText, startLoc = 0, endLoc = fullText.length, lastSuccessLoc = 0) {\n        const midLoc = Math.floor((startLoc + endLoc) / 2);\n        textNode.textContent = fullText.slice(0, midLoc);\n        if (startLoc >= endLoc - 1) {\n            // Loop when step is small\n            for (let step = endLoc; step >= startLoc; step -= 1) {\n                const currentStepText = fullText.slice(0, step);\n                textNode.textContent = currentStepText;\n                if (inRange() || !currentStepText) {\n                    return step === fullText.length\n                        ? {\n                            finished: false,\n                            node: document.createTextNode(fullText)\n                        }\n                        : {\n                            finished: true,\n                            node: document.createTextNode(currentStepText)\n                        };\n                }\n            }\n        }\n        if (inRange()) {\n            return measureText(textNode, fullText, midLoc, endLoc, midLoc);\n        }\n        else {\n            return measureText(textNode, fullText, startLoc, midLoc, lastSuccessLoc);\n        }\n    }\n    function measureNode(childNode, index) {\n        const type = childNode.nodeType;\n        if (type === ELEMENT_NODE) {\n            // We don't split element, it will keep if whole element can be displayed.\n            // appendChildNode(childNode);\n            if (inRange()) {\n                return {\n                    finished: false,\n                    node: contentList[index]\n                };\n            }\n            // Clean up if can not pull in\n            ellipsisContentHolder.removeChild(childNode);\n            return {\n                finished: true,\n                node: null\n            };\n        }\n        else if (type === TEXT_NODE) {\n            const fullText = childNode.textContent || '';\n            const textNode = document.createTextNode(fullText);\n            appendChildNode(textNode);\n            return measureText(textNode, fullText);\n        }\n        // Not handle other type of content\n        // PS: This code should not be attached after react 16\n        return {\n            finished: false,\n            node: null\n        };\n    }\n    const ellipsisNodes = [];\n    childNodes.some((childNode, index) => {\n        const { finished, node } = measureNode(childNode, index);\n        if (node) {\n            ellipsisNodes.push(node);\n        }\n        return finished;\n    });\n    const result = {\n        contentNodes: ellipsisNodes,\n        text: ellipsisContainer.innerHTML,\n        ellipsis: true\n    };\n    while (ellipsisContainer.firstChild) {\n        ellipsisContainer.removeChild(ellipsisContainer.firstChild);\n    }\n    return result;\n}\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nlet scrollbarVerticalSize;\nlet scrollbarHorizontalSize;\n// Measure scrollbar width for padding body during modal show/hide\nconst scrollbarMeasure = {\n    position: 'absolute',\n    top: '-9999px',\n    width: '50px',\n    height: '50px'\n};\nfunction measureScrollbar(direction = 'vertical', prefix = 'ant') {\n    if (typeof document === 'undefined' || typeof window === 'undefined') {\n        return 0;\n    }\n    const isVertical = direction === 'vertical';\n    if (isVertical && scrollbarVerticalSize) {\n        return scrollbarVerticalSize;\n    }\n    else if (!isVertical && scrollbarHorizontalSize) {\n        return scrollbarHorizontalSize;\n    }\n    const scrollDiv = document.createElement('div');\n    Object.keys(scrollbarMeasure).forEach(scrollProp => {\n        // @ts-ignore\n        scrollDiv.style[scrollProp] = scrollbarMeasure[scrollProp];\n    });\n    // apply hide scrollbar className ahead\n    scrollDiv.className = `${prefix}-hide-scrollbar scroll-div-append-to-body`;\n    // Append related overflow style\n    if (isVertical) {\n        scrollDiv.style.overflowY = 'scroll';\n    }\n    else {\n        scrollDiv.style.overflowX = 'scroll';\n    }\n    document.body.appendChild(scrollDiv);\n    let size = 0;\n    if (isVertical) {\n        size = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n        scrollbarVerticalSize = size;\n    }\n    else {\n        size = scrollDiv.offsetHeight - scrollDiv.clientHeight;\n        scrollbarHorizontalSize = size;\n    }\n    document.body.removeChild(scrollDiv);\n    return size;\n}\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nfunction ensureInBounds(value, boundValue) {\n    return value ? (value < boundValue ? value : boundValue) : boundValue;\n}\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nfunction inNextTick() {\n    const timer = new Subject();\n    Promise.resolve().then(() => timer.next());\n    return timer.pipe(take(1));\n}\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nfunction wrapIntoObservable(value) {\n    if (isObservable(value)) {\n        return value;\n    }\n    if (isPromise(value)) {\n        // Use `Promise.resolve()` to wrap promise-like instances.\n        return from(Promise.resolve(value));\n    }\n    return of(value);\n}\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n/**\n * Sync from rc-util [https://github.com/react-component/util]\n */\nfunction canUseDom() {\n    return !!(typeof window !== 'undefined' && window.document && window.document.createElement);\n}\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nconst MARK_KEY = `rc-util-key`;\nfunction getMark({ mark } = {}) {\n    if (mark) {\n        return mark.startsWith('data-') ? mark : `data-${mark}`;\n    }\n    return MARK_KEY;\n}\nfunction getContainer(option) {\n    if (option.attachTo) {\n        return option.attachTo;\n    }\n    const head = document.querySelector('head');\n    return head || document.body;\n}\nfunction injectCSS(css, option = {}) {\n    if (!canUseDom()) {\n        return null;\n    }\n    const styleNode = document.createElement('style');\n    if (option.csp?.nonce) {\n        styleNode.nonce = option.csp?.nonce;\n    }\n    styleNode.innerHTML = css;\n    const container = getContainer(option);\n    const { firstChild } = container;\n    if (option.prepend && container.prepend) {\n        // Use `prepend` first\n        container.prepend(styleNode);\n    }\n    else if (option.prepend && firstChild) {\n        // Fallback to `insertBefore` like IE not support `prepend`\n        container.insertBefore(styleNode, firstChild);\n    }\n    else {\n        container.appendChild(styleNode);\n    }\n    return styleNode;\n}\nconst containerCache = new Map();\nfunction findExistNode(key, option = {}) {\n    const container = getContainer(option);\n    return Array.from(containerCache.get(container)?.children || []).find(node => node.tagName === 'STYLE' && node.getAttribute(getMark(option)) === key);\n}\nfunction removeCSS(key, option = {}) {\n    const existNode = findExistNode(key, option);\n    existNode?.parentNode?.removeChild(existNode);\n}\nfunction updateCSS(css, key, option = {}) {\n    const container = getContainer(option);\n    // Get real parent\n    if (!containerCache.has(container)) {\n        const placeholderStyle = injectCSS('', option);\n        // @ts-ignore\n        const { parentNode } = placeholderStyle;\n        containerCache.set(container, parentNode);\n        parentNode.removeChild(placeholderStyle);\n    }\n    const existNode = findExistNode(key, option);\n    if (existNode) {\n        if (option.csp?.nonce && existNode.nonce !== option.csp?.nonce) {\n            existNode.nonce = option.csp?.nonce;\n        }\n        if (existNode.innerHTML !== css) {\n            existNode.innerHTML = css;\n        }\n        return existNode;\n    }\n    const newNode = injectCSS(css, option);\n    newNode?.setAttribute(getMark(option), key);\n    return newNode;\n}\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nfunction getStatusClassNames(prefixCls, status, hasFeedback) {\n    return {\n        [`${prefixCls}-status-success`]: status === 'success',\n        [`${prefixCls}-status-warning`]: status === 'warning',\n        [`${prefixCls}-status-error`]: status === 'error',\n        [`${prefixCls}-status-validating`]: status === 'validating',\n        [`${prefixCls}-has-feedback`]: hasFeedback\n    };\n}\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { InputBoolean, InputCssPixel, InputNumber, arraysEqual, canUseDom, createDebugEle, ensureInBounds, ensureNumberInRange, getCaretCoordinates, getElementOffset, getEventPosition, getMentions, getPercent, getPrecision, getRegExp, getRepeatedElement, getStatusClassNames, getStyleAsText, inNextTick, injectCSS, isNil, isNonEmptyString, isNotNil, isNumberFinite, isPromise, isStyleSupport, isTemplateRef, isTouchEvent, measure, measureScrollbar, padEnd, padStart, properties, pxToNumber, removeCSS, scrollIntoView, shallowCopyArray, shallowEqual, silentEvent, sum, toArray, toBoolean, toCssPixel, toDecimal, toNumber, updateCSS, valueFunctionProp, wrapIntoObservable };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}